# 需求分析文档

---

## 输入输出格式

### 题目包含元素

- 自然数/真分数
- 运算符：'+', '−', '×', '÷'
- 括号
- 等号
- 空格

### 真分数格式

- 对于分子小于分母，则直接输出，例如：1/2
- 对于分子大于分母，则使用带分数格式输出，例如：1'1/2

### 题目格式

样式：

1. 四则运算式子
2. 四则运算式子

例子：

1. 5 + 6 = 
2. 8 ÷ 6 = 

对于一个四则运算式子，要求数和运算符之间有一个空格，数和等号之间也要一个空格，等号右边也需要空格，其他情况不需要空格。

例子：

1. 1 + (2 + 3) = 
2. 1/2 ÷ 1'2/3 = 

### 答案格式

样式：

1. 答案1
2. 答案2

例子：

1. 11
2. 1'1/3

### 附加题统计结果格式

输出到文件Grade.txt

例子：

Correct: 5 (1, 3, 5, 7, 9)

Wrong: 5 (2, 4, 6, 8, 10)

---

## 命令行参数

- -n num：生成num个题目。若无给出此参数，默认给定为10（把生成的题目放到当前目录下的Exercises.txt文件）
- -r num：生成题目的数的范围[0, num)，必须给定（把答案放到当前目录下的Answers.txt文件）
- （附加题）-e e.txt -a a.txt：题目在e.txt，答案在a.txt，输出对比结果

### 具体解释

1.-r num：

例子：-r 10

生成的题目：5 / 2 + 6 * 3 = 

原因：5/2，6，3这些数都在10以内

2.-e e.txt -a a.txt

e.txt和a.txt参照输入输出格式。要注意如果a.txt中的答案不为真分数，也要判定为错误

---

## 生成题目限制

题目构成："表达式 = "，所以关键是生成和处理表达式

### 合法的表达式

设e, e1, e2为表达式，那么合法的表达式（递归定义）有：

- 自然数/真分数
- e
- (e)
- e1 + e2
- e1 - e2
- e1 × e2
- e1 ÷ e2

### 表达式限制

1. 计算过程中不能出现负数，即：e1 - e2>=0 => e1>=e2

2. 计算结果用自然数/真分数表示

3. 题目出现的运算符（'+'，'-'，'×'，'÷'）数量：[1, 3]，包括真分数的'/'号

4. 生成的一套题目不能重复，即任何两道题目不能通过有限次交换'+'和'×'左右的算术表达式变换为同一道题目。
具体来说：判定重复时，先使得号左边的表达式小于等于右边，'×'号左边的表达式小于等于右边，然后判定对应位置的'+'号的表达式是否相等，'×'号的表达式是否相等
